Revision history for Perl extension Mail::SpamCannibal

0.28  Sat Feb 21 11:42:10 PST 2004
	add db write cacheing to BLpreen in ScriptSupport v0.18 
	to reduce disk thrashing and speed preening process

	correct cannibal.cgi v1.18 to display truncated character
	after hotlink for IP address in secondary db display

0.27  Mon Feb  9 16:20:27 PST 2004
	Re-write 'restart' routines for:
	DNSBLserver/rc.dnsbls v0.8
	BDBaccess/rc.bdbaccess v0.5
	scripts/rc.sc_lbdaemon v1.04

	Change wording in cannibal.cgi v1.17 for LOOKUP warning to:
	Automated lookups not allowed, click SUBMIT to continue.

	Add 'lookup' link to 'Whois' page in 
	cannibal.cgi v1.16, whois.incl v1.02

	Add script sc_country_origin.pl to analyze the number
	of IP's from a particular country in the tarpit

0.26  Wed Feb  4 17:36:21 PST 2004
	Oops! -- left debug statement
	"print STDERR" 
	in cannibal.cgi -- removed and bumped rev number

	commented out SPEWS dnsbl from the
	sc_blacklist.config.sample config file

0.25  Fri Jan 30 18:04:25 PST 2004
	uploaded defective distribution containing
	a typo in ScriptSupport which resulted in no 
	change from version 0.23

0.24  Fri Jan 30 17:03:37 PST 2004
	add in-addr.arpa CNAME -> PTR capability
	in the ScriptSupport dns_ptr subroutine 
	for cannibal.cgi

0.23  Fri Jan 30 13:31:07 PST 2004
	update sc_Blacklist.conf.sample to include 
	completewhois.com

	modify cannibal.cgi to not allow automated lookups
	of the form http://www.myhost.com/?....

	modify cannibal.cgi to pop a window
	for IP lookups in the View DB page

0.22  Thu Jan 15 11:18:33 PST 2004
	Add domain name lookup to whois cannibal.cgi page
	ScriptSupport.pm
	  add dns_udpsend
	  add dns_udpresp

0.21  Wed Jan  7 11:52:56 PST 2004
	Fixed typo in howitworks.pod 'in-definite-ly', thanks to Graham Barr
	gbarr@pobox.com for spotting it.

	Added "focus" to web pages for LOOKUP, WHOIS, UPDPASSWD, SPAMADD, BLKADD

	Removed easynet.nl from the sample sc_Blacklist.conf file,
	they went out of service 12-1-03

	Removed dsbl.org from sample sc_Blacklist.conf file, this 
	was an erroneous entry.

	Update sc_Blacklist.conf to track Net::DNSBL::MultiDaemon

0.20  Fri Dec  5 17:12:31 PST 2003
	Require version 0.23 if IPTables::IPv4::DBtarpit which has
	the workaround in tarpit.c for the memory leak in libnet.

	Add 'tests' for NetAddr operation to ScriptSupport, update missing
	variable test in ScriptSupport::matchNetAddr

	Move NetAddr and config file routines to 
	Net::DNSBL::Utilities
	
	Add BLOCK, BlockByCountry, and no reverse DNS checking
	to ScriptSupport.pm for sc_BLcheck.pl and sc_BLpreen.pl

	Update sc_BlackList.conf.sample to support above

0.19  Sat Nov  8 18:45:03 PST 2003
	update public_html/cannibal.cgi so that javascript will
	insert the IP address into automated attempts for whois 
	and lookup page request actions.

	Add support to Whois and Lookup for country code and flag 
	display if the optional Geo::xxx modules are installed

0.18  Mon Oct 30 11:21:40 PDT 2003

	changed syslog call in rc.sc_dbwatch to match prototype

	update spamlst.incl, sc_session.pl, sc_remote.pl, cannibal.cgi
	to include admin capability to add CIDR/24 -31 blocks of addresses

	update public_html/index.html to behave better with robots

	add sort logic to ScriptSupport::BLcheck to check DNSBL's in
	the order of max hits to min hits and to optionally save 
	a statistics file.

	update the documentation for ScriptSupport::zone_def to 
	describe 'timeout'

	fix PidUtil to print on STDERR instead of STDOUT and add error 
	messages if the pid write path is not found or not writable

      update DNSBLserver 0.21
	correct logic in ns.c to report 127.x.x.x codes in zone transfers.
	add logic to main.c and ns.c to append the text of the IP address
        to standard TXT responses if the error message is default and 
        contains the character ? as in http://xxx.com?abc=

0.17  Sat Oct 11 08:28:02 PDT 2003
	squash a test bug in DNSBLserver

	modifiy sc_session.pl to access database directly for CIDR/24
	related IP lookups rather than have cannibal.cgi use BDBclient. 
	The lookup time for 255 addresses over the remote link was 
	much too long.

	add remote commands to sc_remote.pl to support insEBLK, getC24 delBLK

0.16  Fri Oct 10 13:46:42 PDT 2003

	This release contains many bug fixes as well as some new features
	in the admin interfac.
	The following modules should be updated when installing this
	release:

		IPTables::IPv4::DBTarpit verion 0.22
		Net::DNS::Codes 0.08
		Net::DNS::ToolKit 0.14
	and the optional
		LaBrea::Tarpit version 1.20
	---------------------------------------------------------------
	add "add CIDR/24 and delete CIDR24" functions to admin tools

	corrected bad use of 'clean' function in sc_session.pl
	on non-strings such as netaddrs, addresses which end in '0'
	like 1.2.3.10 are truncated by 'clean'. This function SHOULD always
	be called on real strings or numbers, not string like objects such
	as netaddrs.

	add -x expires option to sc_cleanup.pl

	add dbjob_xxx utilities to ScriptSupport.pm 0.10 for db watcher

	add missing PidUtil qw(get_script_name) to sc_mailfilter.pl

	update test suites to accomodate libdbtarpit change

	add support for DB watcher to all daemons and scripts.
	each daemon and script creates a PID file in the db environment 
	directory and NOW removes the file on clean exit. The watcher script
	periodically checks whether the files described by the pid's are
	actually running and will signal the remaining jobs to exit, 
	remove and recreate the environment and restart the jobs.

	add administrative screen shots to document package

	correct sc_web.conf.example for missing entry to 
	support admin change password

	change nav.incl a href for 'docs' to 'docs/' to 
	for the web robots. This is comsmetic since the 
	href is not used anyway, but the robots see it.

	in cannibal.cgi, modify 'whois' and 'lookup' to insert the 
	IP address into the text box when the web interface is used.
	Correct typo *gt should be &gt

	update DNSBL list in sc_BlackList.conf

0.15  Tue Sep 30 10:01:08 PDT 2003

	modify spam_report.cgi to do a better job of extracting
	URL information from the DNSBL TXT records

	add onUnLoad function to spam_report.cgi to
	close popup window in multi-site environment.
	Requires LaBrea::Tarpit::Report v 1.09

0.14  Mon Sep 29 17:18:57 PDT 2003
	Changes are to these files ONLY

	deleted public/html/whois.cgi
	Makefile.PL
	public_html/spam_report.cgi.example
		(needs LaBrea::Tarpit::Report v 1.08)
		(found in LaBrea::Tarpit 1.18)

    Makefile.PL
	fixed install for $(SPAMCANNIBAL_HOME)/public_html/tmp
	to remove directory contents after chowning so that
	web daemon does not hang after a re-installation

    spam_report.cgi.example
	corrected variable name 'usr' should be 'url' in 
	public_html/spam_report.cgi

	correct the name of the 'dbtarpit' daemon displayed
	by 'spam_report.cgi'

	eliminate 'whois.cgi' as it does not work with MSIE in
	the pop-up window. Add workaround in LaBrea::Tarpit::Report
	which must be used with this version for all to work well.
 
0.13  Sat Sep 27 03:57:27 PDT 2003
	oops! left SpamCannibal.html out of the doc package

FIRST BETA RELEASE
0.12  Thu Sep 25 17:21:24 PDT 2003
	add fixup script to do POD2HTML conversions for versions
	of perl newer than 5.6 where this has been removed.

0.11  Wed Sep 24 14:57:49 PDT 2003
	modify BDBaccess and DNSBLserver to have 32/64 bit
	platform independent code. See Changes in those 
	subdirectories for additional information on 
	OS independent modifications. No functional changes.

0.10  Sat Sep 20 12:01:08 PDT 2003
	upgrade to DNSBLserver 0.15

0.09  Mon Sep 15 11:50:06 PDT 2003
	missing file public_html/whois.cgi
	added to archive

0.08  Tue Sep  9 18:00:28 PDT 2003
	DNSBLserver version 0.12
	improve database use efficiency

	DNSBLserver version 0.11
	main.c -- modified the child network socket loop to fix a timing 
	problem when interrogating the dnsbls from the local host via bind.

	modify rc.dnsbls so that record 127.0.0.2 is 
	forceably added without user intervention.

	add conditional @fqdn to "to" address in SMTPsend version 0.02

	fix LaBreaDaemon.pm to properly open the unix domain interface
	to dbtarpit.
	set LaBreaDaemon ps-string to script name

	add report scripts for site statistics

	correct verbose Exceptions reporting for
	mailcheck in ScriptSupport.pm

0.07  Sun Sep  7 19:38:28 PDT 2003
	ScriptSupport 0.05 -- correct flaw in BLpreen check which did not
	remove IP from tarpit when the blacklist host no longer has record.

	sc_initdb.pl	chown environment directory to 
	spamcannibal user,group

	add UtilPid.pm for checking and managing PID files, etc...
	add pid checking to sc_BLcheck.pl and sc_BLpreen.pl
	add LaBreaDaemon.pm to support data collection and display

	add sc_cleanup.pl to remove spurious records
	add pods/recover.pod

	updated cannibal.cgi to unmask html in the evidence record

0.06  Wed Sep  3 16:35:13 PDT 2003
	update prerequisite list and home page documentation
	permissions on sc_web.conf.sample instead of sc_web.conf

	dnsbls version 0.10
	Add -N option for naming the localhost DNS object
	Correct error in mungemacros.c where buffer size constraint
	was MSGsize instead of IP_MAXPACKET
	Add lookup in the evidence file to ns.c. Evidence must be
	consulted before blcontrib to prevent non-reporting of
	127.0.0.2 'A' records if they appear in both blcontrib and evidence.

0.05  Fri Aug 29 14:55:27 PDT 2003
	updates from first beta install including documentation corrections

	modify usage for INADDR_NONE in cannibal.cgi

	set submit false for ViewDB in cannibal.cgi to prevent
	POSTs to index.html

	modify Session.pm to support modperl across 'fork' operation

	correct failure to skip tarpit operation for ignored hosts in

	sc_BLcheck.pl (ScriptSupport::BLcheck).

	set real to effective uid in sc_mailfilter.pl to accomodate
	the suid from the local mail delivery agent

	correct WebService to properly return query string elements
	that contain '='

0.04  Sat Aug 23 12:22:28 PDT 2003
	added web support for users and admins

0.03  Sat Aug  2 19:44:13 PDT 2003
	updates

0.02  Tue Jul 29 19:29:58 PDT 2003
	move GoodPrivacy and ParseMessage
	into lib/

	add	scrpits/sc_initdb.pl
		scripts/sc_addspam.pl
	    	config/sc_addspam.conf.sample

0.01  Thu Jul 23 15:13:03 PDT 2003
	alpha release
